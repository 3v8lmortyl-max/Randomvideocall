<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#6366f1">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>Vibe - Random Video Chat</title>
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="manifest.json">
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Styles -->
    <link rel="stylesheet" href="style.css">
    
    <!-- Icons -->
    <link rel="icon" href="assets/logo.svg" type="image/svg+xml">
</head>
<body>
    <!-- Splash Screen -->
    <div id="splash" class="splash">
        <div class="splash-content">
            <img src="assets/logo.svg" alt="Vibe Logo" class="splash-logo">
            <h1 class="splash-title">Vibe</h1>
            <div class="loading-dots">
                <div class="dot"></div>
                <div class="dot"></div>
                <div class="dot"></div>
            </div>
        </div>
    </div>

    <!-- Main App -->
    <div id="app" class="app hidden">
        <!-- Ad Slot -->
        <div id="ads-slot" class="ads-slot">
            <!-- Ad content will be injected here -->
        </div>

        <!-- Status Bar -->
        <div id="status" class="status">
            <span id="status-text">Initializing...</span>
        </div>

        <!-- Video Container -->
        <div class="video-container">
            <!-- Remote Video -->
            <video id="remoteVideo" class="remote-video" autoplay playsinline muted></video>
            
            <!-- Local Video (Mini Cam) -->
            <div id="localVideoContainer" class="local-video-container">
                <video id="localVideo" class="local-video" autoplay playsinline muted></video>
            </div>

            <!-- Swipe Indicator -->
            <div id="swipeIndicator" class="swipe-indicator hidden">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                    <path d="M12 5L12 19M5 12L19 12" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                </svg>
                <span>Swipe up for next</span>
            </div>
        </div>

        <!-- Control Bar -->
        <div class="control-bar">
            <button id="micBtn" class="control-btn" aria-label="Toggle microphone">
                <svg class="icon mic-on" width="20" height="20" viewBox="0 0 24 24" fill="none">
                    <path d="M12 2C13.1 2 14 2.9 14 4V12C14 13.1 13.1 14 12 14C10.9 14 10 13.1 10 12V4C10 2.9 10.9 2 12 2ZM19 10V12C19 15.3 16.3 18 13 18V20H11V18C7.7 18 5 15.3 5 12V10H7V12C7 14.2 8.8 16 11 16H13C15.2 16 17 14.2 17 12V10H19Z" fill="currentColor"/>
                </svg>
                <svg class="icon mic-off hidden" width="20" height="20" viewBox="0 0 24 24" fill="none">
                    <path d="M19 10V12C19 15.3 16.3 18 13 18V20H11V18C7.7 18 5 15.3 5 12V10H7V12C7 14.2 8.8 16 11 16H13C15.2 16 17 14.2 17 12V10H19ZM21 2L3 20L4.41 21.41L22.41 4.41L21 2ZM14 12.88L10.12 9C10.04 9.32 10 9.65 10 10V12C10 13.1 10.9 14 12 14C12.35 14 12.65 13.92 12.88 13.8L14 12.88Z" fill="currentColor"/>
                </svg>
            </button>

            <button id="cameraBtn" class="control-btn" aria-label="Toggle camera">
                <svg class="icon camera-on" width="20" height="20" viewBox="0 0 24 24" fill="none">
                    <path d="M12 9C10.9 9 10 9.9 10 11C10 12.1 10.9 13 12 13C13.1 13 14 12.1 14 11C14 9.9 13.1 9 12 9ZM20 4H16.5L15 2H9L7.5 4H4C2.9 4 2 4.9 2 6V18C2 19.1 2.9 20 4 20H20C21.1 20 22 19.1 22 18V6C22 4.9 21.1 4 20 4ZM12 17C8.7 17 6 14.3 6 11C6 7.7 8.7 5 12 5C15.3 5 18 7.7 18 11C18 14.3 15.3 17 12 17Z" fill="currentColor"/>
                </svg>
                <svg class="icon camera-off hidden" width="20" height="20" viewBox="0 0 24 24" fill="none">
                    <path d="M20 4H16.5L15 2H9L7.5 4H4C2.9 4 2 4.9 2 6V18C2 19.1 2.9 20 4 20H20C21.1 20 22 19.1 22 18V6C22 4.9 21.1 4 20 4ZM12 17C8.7 17 6 14.3 6 11C6 7.7 8.7 5 12 5C15.3 5 18 7.7 18 11C18 14.3 15.3 17 12 17ZM21 2L3 20L4.41 21.41L22.41 4.41L21 2Z" fill="currentColor"/>
                </svg>
            </button>

            <button id="likeBtn" class="control-btn like-btn" aria-label="Like">
                <svg class="icon" width="20" height="20" viewBox="0 0 24 24" fill="none">
                    <path d="M12 21.35L10.55 20.03C5.4 15.36 2 12.27 2 8.5C2 5.41 4.42 3 7.5 3C9.24 3 10.91 3.81 12 5.08C13.09 3.81 14.76 3 16.5 3C19.58 3 22 5.41 22 8.5C22 12.27 18.6 15.36 13.45 20.03L12 21.35Z" fill="currentColor"/>
                </svg>
            </button>

            <button id="dislikeBtn" class="control-btn dislike-btn" aria-label="Dislike">
                <svg class="icon" width="20" height="20" viewBox="0 0 24 24" fill="none">
                    <path d="M15 3H6C5.17 3 4.46 3.5 4.16 4.22L1.14 11.27C1.05 11.46 1 11.67 1 11.88V13C1 14.1 1.9 15 3 15H9.31L8.36 19.77C8.34 19.86 8.33 19.95 8.33 20.04C8.33 20.46 8.5 20.85 8.77 21.12L9.83 22.17L16.41 15.59C16.78 15.22 17 14.73 17 14.17V5C17 3.9 16.1 3 15 3Z" fill="currentColor"/>
                </svg>
            </button>

            <button id="reportBtn" class="control-btn report-btn" aria-label="Report">
                <svg class="icon" width="20" height="20" viewBox="0 0 24 24" fill="none">
                    <path d="M14.4 6L14 4H5V21H7V14H12.6L13 16H20V6H14.4Z" fill="currentColor"/>
                </svg>
            </button>

            <button id="nextBtn" class="control-btn next-btn" aria-label="Next">
                <svg class="icon" width="20" height="20" viewBox="0 0 24 24" fill="none">
                    <path d="M6 18L18 6M6 6L18 18" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                </svg>
            </button>
        </div>

        <!-- Premium Banner -->
        <div id="premiumBanner" class="premium-banner">
            <span>âœ¨ Go Premium</span>
        </div>

        <!-- Debug Panel -->
        <div id="debugPanel" class="debug-panel hidden">
            <h3>Debug Info</h3>
            <div id="debugInfo"></div>
        </div>
    </div>

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>
    
    <!-- App Scripts -->
    <script src="firebase-config.js"></script>
    <script src="script.js"></script>
</body>
</html>

